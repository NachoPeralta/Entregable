error: undefined
error: Error al obtener los usuarios Cannot read properties of undefined (reading 'status') {"stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at UserController.getUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\userController.js:257:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:208:27)"}
error: undefined
error: Error al obtener los usuarios Cannot read properties of undefined (reading 'status') {"stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at UserController.getUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\userController.js:257:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:208:27)"}
error: undefined
error: Error al obtener los usuarios Cannot read properties of undefined (reading 'status') {"stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at UserController.getUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\userController.js:259:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:208:27)"}
error: undefined
error: Error al obtener los usuarios Cannot read properties of undefined (reading 'status') {"stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at UserController.getUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\userController.js:259:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:208:27)"}
error: undefined
error: Error al obtener los usuarios Cannot read properties of undefined (reading 'status') {"stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at UserController.getUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\userController.js:259:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:208:27)"}
error: undefined
error: Error al obtener los usuarios Cannot read properties of undefined (reading 'json') {"stack":"TypeError: Cannot read properties of undefined (reading 'json')\n    at UserController.getUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\userController.js:259:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:208:27)"}
error: undefined
error: Error al obtener los usuarios Cannot read properties of undefined (reading 'docs') {"stack":"TypeError: Cannot read properties of undefined (reading 'docs')\n    at renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:210:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener los usuarios Cannot access 'criteria' before initialization {"stack":"ReferenceError: Cannot access 'criteria' before initialization\n    at renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:216:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener los usuarios result is not defined {"stack":"ReferenceError: result is not defined\n    at renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:240:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: Error al obtener productos: Cast to ObjectId failed for value "nacho.wips@gmail.com" (type string) at path "owner" for model "products" {"kind":"ObjectId","path":"owner","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"nacho.wips@gmail.com\" (type string) at path \"owner\" for model \"products\"\n    at SchemaObjectId.cast (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1221:12)\n    at SchemaType.castForQuery (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1636:17)\n    at cast (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\cast.js:375:32)\n    at Query.cast (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\query.js:4746:12)\n    at model.Query._countDocuments (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\query.js:2579:10)\n    at model.Query.exec (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\query.js:4290:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ProductManager.getProducts (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\dao\\db\\product-manager-db.js:69:35)\n    at async ProductRepository.getProducts (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\repositories\\product.repository.js:9:26)","stringValue":"\"nacho.wips@gmail.com\"","value":"nacho.wips@gmail.com","valueType":"string"}
error: Error en la vista de productos en tiempo real.  Cast to ObjectId failed for value "nacho.wips@gmail.com" (type string) at path "owner" for model "products" {"kind":"ObjectId","path":"owner","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"nacho.wips@gmail.com\" (type string) at path \"owner\" for model \"products\"\n    at SchemaObjectId.cast (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schema\\objectId.js:250:11)\n    at SchemaType.applySetters (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1221:12)\n    at SchemaType.castForQuery (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1636:17)\n    at cast (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\cast.js:375:32)\n    at Query.cast (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\query.js:4746:12)\n    at model.Query._countDocuments (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\query.js:2579:10)\n    at model.Query.exec (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\query.js:4290:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ProductManager.getProducts (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\dao\\db\\product-manager-db.js:69:35)\n    at async ProductRepository.getProducts (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\repositories\\product.repository.js:9:26)","stringValue":"\"nacho.wips@gmail.com\"","value":"nacho.wips@gmail.com","valueType":"string"}
error: No se pudo eliminar el producto.  Cannot read properties of undefined (reading 'pid') {"stack":"TypeError: Cannot read properties of undefined (reading 'pid')\n    at ProductController.deleteProduct (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\productController.js:110:42)\n    at Socket.<anonymous> (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\sockets\\socketmanager.js:35:41)\n    at Socket.emit (node:events:514:28)\n    at Socket.emitUntyped (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\socket.io\\dist\\typed-events.js:69:22)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\socket.io\\dist\\socket.js:704:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: No se pudo eliminar el producto.  Cannot read properties of undefined (reading 'pid') {"stack":"TypeError: Cannot read properties of undefined (reading 'pid')\n    at ProductController.deleteProduct (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\productController.js:110:42)\n    at Socket.<anonymous> (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\sockets\\socketmanager.js:35:41)\n    at Socket.emit (node:events:514:28)\n    at Socket.emitUntyped (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\socket.io\\dist\\typed-events.js:69:22)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\socket.io\\dist\\socket.js:704:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: No se pudo eliminar el producto.  Cannot read properties of undefined (reading 'pid') {"stack":"TypeError: Cannot read properties of undefined (reading 'pid')\n    at ProductController.deleteProduct (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\productController.js:110:42)\n    at Socket.<anonymous> (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\sockets\\socketmanager.js:35:41)\n    at Socket.emit (node:events:514:28)\n    at Socket.emitUntyped (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\socket.io\\dist\\typed-events.js:69:22)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\socket.io\\dist\\socket.js:704:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: No se pudo eliminar el producto.  UserModel is not defined {"stack":"ReferenceError: UserModel is not defined\n    at ProductController.deleteProduct (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\productController.js:119:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Socket.<anonymous> (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\sockets\\socketmanager.js:35:17)"}
error: No se pudo agregar el producto.  Cannot destructure property 'title' of 'newProduct' as it is undefined. {"stack":"TypeError: Cannot destructure property 'title' of 'newProduct' as it is undefined.\n    at ProductManager.addProduct (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\dao\\db\\product-manager-db.js:7:15)\n    at ProductRepository.addProduct (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\repositories\\product.repository.js:19:51)\n    at ProductController.addProduct (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\productController.js:75:56)\n    at Socket.<anonymous> (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\sockets\\socketmanager.js:29:41)\n    at Socket.emit (node:events:514:28)\n    at Socket.emitUntyped (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\socket.io\\dist\\typed-events.js:69:22)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\socket.io\\dist\\socket.js:704:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: Error al obtener los usuarios UserController.getUsers is not a function {"stack":"TypeError: UserController.getUsers is not a function\n    at renderUsers (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\src\\controller\\viewsController.js:210:56)\n    at Layer.handle [as handle_request] (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at complete (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\passport\\lib\\middleware\\authenticate.js:280:13)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\passport\\lib\\middleware\\authenticate.js:287:15\n    at pass (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\passport\\lib\\authenticator.js:446:14)\n    at Authenticator.transformAuthInfo (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\passport\\lib\\authenticator.js:468:5)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\passport\\lib\\middleware\\authenticate.js:284:22\n    at req.login.req.logIn (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\passport\\lib\\http\\request.js:44:13)\n    at strategy.success (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\passport\\lib\\middleware\\authenticate.js:265:13)"}
error: No se pudo agregar el producto.  products validation failed: owner: Path `owner` is required. {"_message":"products validation failed","errors":{"owner":{"kind":"required","message":"Path `owner` is required.","name":"ValidatorError","path":"owner","properties":{"message":"Path `owner` is required.","path":"owner","type":"required","value":""},"value":""}},"stack":"ValidationError: products validation failed: owner: Path `owner` is required.\n    at Document.invalidate (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:3201:32)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:2994:17\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: No se pudo agregar el producto.  products validation failed: owner: Path `owner` is required. {"_message":"products validation failed","errors":{"owner":{"kind":"required","message":"Path `owner` is required.","name":"ValidatorError","path":"owner","properties":{"message":"Path `owner` is required.","path":"owner","type":"required","value":""},"value":""}},"stack":"ValidationError: products validation failed: owner: Path `owner` is required.\n    at Document.invalidate (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:3201:32)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:2994:17\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: No se pudo agregar el producto.  products validation failed: owner: Path `owner` is required. {"_message":"products validation failed","errors":{"owner":{"kind":"required","message":"Path `owner` is required.","name":"ValidatorError","path":"owner","properties":{"message":"Path `owner` is required.","path":"owner","type":"required","value":""},"value":""}},"stack":"ValidationError: products validation failed: owner: Path `owner` is required.\n    at Document.invalidate (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:3201:32)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:2994:17\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: No se pudo agregar el producto.  products validation failed: owner: Path `owner` is required. {"_message":"products validation failed","errors":{"owner":{"kind":"required","message":"Path `owner` is required.","name":"ValidatorError","path":"owner","properties":{"message":"Path `owner` is required.","path":"owner","type":"required","value":""},"value":""}},"stack":"ValidationError: products validation failed: owner: Path `owner` is required.\n    at Document.invalidate (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:3201:32)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:2994:17\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: No se pudo agregar el producto.  products validation failed: owner: Path `owner` is required. {"_message":"products validation failed","errors":{"owner":{"kind":"required","message":"Path `owner` is required.","name":"ValidatorError","path":"owner","properties":{"message":"Path `owner` is required.","path":"owner","type":"required","value":""},"value":""}},"stack":"ValidationError: products validation failed: owner: Path `owner` is required.\n    at Document.invalidate (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:3201:32)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:2994:17\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
error: No se pudo agregar el producto.  products validation failed: owner: Path `owner` is required. {"_message":"products validation failed","errors":{"owner":{"kind":"required","message":"Path `owner` is required.","name":"ValidatorError","path":"owner","properties":{"message":"Path `owner` is required.","path":"owner","type":"required","value":""},"value":""}},"stack":"ValidationError: products validation failed: owner: Path `owner` is required.\n    at Document.invalidate (C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:3201:32)\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\document.js:2994:17\n    at C:\\Users\\iperalta\\Documents\\FullStackDev\\ProgramacionBackend\\Entregas\\Entregable\\node_modules\\mongoose\\lib\\schemaType.js:1370:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
